<%@ page errorPage="error.jsp" %>
<%
try {
    int x = 1 / 0; // 故意出錯
} catch (Throwable e) {
    // 這裡的 e 就是「畫面上那個 Exception」
    request.setAttribute("jspException", e);
    throw e; // 讓它繼續進 error.jsp
}
%>



<%@ page isErrorPage="true" %>
<%
Throwable t = (Throwable) request.getAttribute("jspException");
if (t == null) t = exception;
%>
<p>Exception 類型：<%= t.getClass().getName() %></p>
<p>行號：<%= t.getStackTrace()[0].getLineNumber() %></p>
